---
layout: post
title: "ブログを作り直した。"
---

# ブログを作り直した。
お久しぶりです。

去年の2月のサーバー機更新の際に、ブログを消し飛ばして以来、1年と3ヶ月ぶりです。

前のブログは、復活の儀をしようとすればできるのですが、めんどくさいので永遠に闇に葬り去ります。


ブログを消し飛ばしてからも、何度かブログがほしいなって思っていましたが、就活だったり、やる気の問題で出来ず終いでした。

流石にそろそろ欲しいなって思ったので、色々と一念発起して作ってみました。

今回は、[Jekyll](http://jekyllrb-ja.github.io/)という静的サイトジェネレーターを使用してブログを生成しています。

## ブログ選定

今まで
- Yahoo! Blog
- Hatena Diary
- Hatena Blog
- Movable Type
- Blogger
- WordPress

と様々なブログサービスを利用していましたが、ブログ程度のものにリッチなUIは必要がないなって思ったり、それぞれのブログの記法を覚えるのがめんどくさかった(はてな記法は書きやすかったけど)のでMarkdownで書けるものがないかなーってことで、Jekyllを選びました。

## Jekyll
SSGであるJekyllのメリットとしては
- Markdownが使える
- HTMLも使える
- サイトの表示が高速
- 脆弱性からララバイ
- リポジトリで管理することもできる

HTMLやMarkdownは過去にやってきたこととかから自由自在に記述できるのでそれが使えるというのは大きいです。

また、SSGで生成したサイトはHTMLやCSS,JS,画像ファイルなどの静的コンテンツで構成されており、アクセスの都度コンテンツを生成するWordPressなどのCMSに比べサイトの表示が高速になるという利点があります。

また、PHPやPerl,CGIなどのプログラムをHTTPサーバーで動かさないため、それらを標的にした攻撃とも無縁になります。

まあ、[Shellshock(CVE-2014-6271)](https://www.ipa.go.jp/security/ciadr/vul/20140926-bash.html)のようなそれ以外の要因に起因する脆弱性には気をつけなければならないのですが。

まあ、デメリットとしては
- 管理画面が存在しない
- 更新の度に生成し直さなければならない
- コメント機能などは無い

という点があげられますが、そこまで重要ではないので、無視できます。

## Jekyllで遊ぶときにコケた話
手元にいい感じのLinux環境がなかったため、Dockerを使用してテストしていたのですが、`jekyll serve`が通らなかったり、そもそもアクセスできなかったりしました。
### jekyll serveでエラーが出る
`webrick`というGemが無いことが原因です。
```bash
bundle add webrick
```
することで解決します。

### コンテナ外からアクセスできない
半日ぐらい悩みました。

答えとしては、ローカルにしか公開していないためで、公開先を`0.0.0.0`にしてやればよいです。
```bash
bundle exec jekyll serve --host=0.0.0.0
```
みたいにやってやれば解決しました。

まあ、そもそもテスト用のHTTPサーバー機能なので、外部からアクセスすることは考えていないのでしょう。

確認が終わったら、nginxなりApache HTTP Serverなりホスティングサービスに投げてやるのが良さそうです。

## 今後
とりあえず、ブログを復活させた目的としては、Twitterでは定期的にツイ消しするので、情報の退避用として使用します。

技術的なことや日常的なことなどごちゃまぜにして書くつもりなので、技術的なことを知りたい人はQiitaなりStack Overflowなどを参照したほうが良いと思います。

技術ブログではありません。